<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.6.1 on Tue Apr 24 12:31:15 2018 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>plans.pro (Documentation for /Users/penton/Dropbox/LASP/)</title>

    

    <script type="text/javascript" src="../idldoc-resources/js/jquery.js"></script>
    <script type="text/javascript" src="../idldoc-resources/js/copybutton.js"></script>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="plans.pro (Documentation for /Users/penton/Dropbox/LASP/)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">

    <div class="header">
      <h1>Documentation for /Users/penton/Dropbox/LASP/</h1>
      <h2>Generated by IDLdoc</h2>
    </div>
    
    
    <table class="navbar smaller" summary="Navigation header" cellspacing="0">
      <tr>
        <td >
          <a href="../overview.html">Overview</a>
        </td>
    
        <td >
          Directory
        </td>
    
        <td class="selected">File</td>
    
        
        <td >
          <a href="plans-code.html" title="Chromocoded source">Source</a> <a href="plans.pro" title=".pro file"><img src="../idldoc-resources/attach.png" alt="[attach.png]" align="top"/></a>
        </td>
        
    
        <td >Etc</td>
    
        <td >
          <a href="../categories.html">Categories</a>
        </td>
    
        <td >
          <a href="../search.html">Search</a>
        </td>
    
        
        <td >
          <a href="../idldoc-index.html">Index</a>
        </td>
        
    
        
        <td >
          <a href="../idldoc-warnings.html">Warnings</a>
        </td>
        
    
        <td >
          <a href="../idldoc-help.html">Help</a>
        </td>
    
        <td class="flexible">
          Developer documentation
        </td>
      </tr>
    </table>
    
    
    
    <p class="localnavbar smallest"><a href="" target="_top">single page</a> | <a href="../index.html" target="_top">use frames</a> &nbsp;&nbsp;&nbsp; summary &nbsp;&nbsp;&nbsp; class &nbsp;&nbsp;&nbsp; fields &nbsp;&nbsp;&nbsp; <a href="#routine-details">routine details</a> &nbsp;&nbsp;&nbsp; <a href="#attributes">file attributes</a></p>
    
    
    
    
    
    
    
    
    

    <div class="content">
      <h2 class="directory">pro/</h2>
      <h1 class="basename">plans.pro<span class="file-attributes"></span></h1>
      

      
      
      
      <br/>

      

      

      

      

      

      
      <div>
        <h2>Routines</h2>
        

      

      

      
      </div>
      

      
      <div id="routine-details">
        

        
        <div class="routine-details details" id="plans">
          <h2 class="routine-name"><a href="#root" class="top">top</a> <a href="plans-code.html#plans:source" class="top">source</a> plans<span class="routine-attributes"></span></h2>

          

          <p class="syntax"><code>plans<span class="argument">, <a href="#plans:p:plot_irr">plot_irr</a></span><span class="argument">, <a href="#plans:k:plot_counts">plot_counts</a>=<span class="var">plot_counts</span></span><span class="argument">, <a href="#plans:k:plot_gratpos">plot_gratpos</a>=<span class="var">plot_gratpos</span></span><span class="argument">, <a href="#plans:k:plot_waves">plot_waves</a>=<span class="var">plot_waves</span></span><span class="argument">, <a href="#plans:k:op">op</a>=<span class="var">op</span></span><span class="argument">, <a href="#plans:k:verbose">verbose</a>=<span class="var">verbose</span></span><span class="argument">, <a href="#plans:k:plot_temps">plot_temps</a>=<span class="var">plot_temps</span></span><span class="argument">, <a href="#plans:k:make_final">make_final</a>=<span class="var">make_final</span></span><span class="argument">, <a href="#plans:k:plot_all">plot_all</a>=<span class="var">plot_all</span></span></code></p>

          
          <div ><p>	NAME: PLANS
</p>

<p>	PURPOSE: Sandbox to test analysis code and results
</p>

<p>***** Background:
This data is similar to what the SORCE SOLSTICE instrument has available (though
it is a small subset of the wavelength range). This specific data set is a
simulation around the Si 2 emission lines (~180nm).
</p>

<p>SOLSTICE collects data by looking at the sun. Light enters the aperture, follows
the optical path which includes a grating, then lands on a photomultiplier tube
(pmt) which counts the number of photon events. The position of the grating can
be changed, which changes the wavelength of light hitting the pmt, which allows
for the measurement of the solar spectrum.
</p>

<p>The SORCE spacecraft is in an orbit with roughly a ninety minute period.
Unfortunately the spacecraft batteries are going bad. It cannot maintain the
power required to keep the instrument at it's ideal temperature (22 deg C) and
so the heaters are turned off during eclipse. This has created significant
temperature swings. Another unfortunate side effect is that the grating position
is reset with each orbit and it never returns to the exact fiducial. This
creates a small grating offset from orbit to orbit which effects the actual
grating position from what is being reported.
</p>

<p>From orbit to orbit, the spacecraft will execute different experiments, to
measure different effects. The included data covers about five orbits worth of
data, with different experiments on each orbit.
</p>

<p>Over this time period, it is reasonable to assume the solar variability for this
wavelength range is not measureable by this detector.
</p>

<p>***** Task: Please calculate the irradiance in watts/m^2 and compare the scan
data. Provide plots of your results along with your code. Specifically, plot the
region around the two emission lines at ~180nm. Also, calculate the ratio of
each scan wrt the reference spectrum and plot the results. What are your
thoughts? Use any language you are comfortable with.
</p>

<p> From plans.txt: planName, startTime, endTime
</p>

<p> Orbit 1 =	QuickScan, 9.434017775100002E14, 9.434062192200002E14
 Orbit 2 =	ConstantWavelength, 9.434076142300002E14, 9.434120464800002E14
 Orbit 3 =	DownScan, 9.434134508500002E14, 9.434178736700002E14
 Orbit 4 =	Dark, 9.434192873600002E14, 9.434237008000002E14
 Orbit 5 =	UpScan, 9.434251237500002E14, 9.434295278700002E14
</p>

<p> 1) Why is there a "down spectrum" during the CW portion ?
	Blake reports this scan is fine to use
</p>

<p>***** Equations
</p>

<p> * Wavelength (the grating equation) :
    offset = 239532.38
    stepSize = 2.4237772022101214E-6 [rad]
    d = 277.77777777777777 [nm]
    phiGInRads = 0.08503244115716374 [rad]
    ang1 = (offset - gratingPosition) * stepSize
    wavelength = 2 * d * sin(ang1) * cos(phiGInRads / 2.0) [nm]
</p>

<p> * counts/second/area :
    integrationTime -&gt; convert to seconds from ms
    cr = counts / integrationTime [counts / sec / nm] (the per nm is from the sampling at the specific grating position)
    apArea = .01 [cm^2] (aperture area)
    photonspersecPerCm2 = cr / apArea [photons/sec/cm^2/nm]
</p>

<p> * watts/meter^2
    wavelengthInMeters -&gt; convert to meters from nm
    h = 6.62606957E-34 [J*s]
    c = 299792458.0 [m/s]
    energyPerPhoton = h * c / wavelengthInMeters [J]
    wattsPerM2 = photonspersecPerArea * 1e2 * 1e2 * energyPerPhoton [watts/m^2/nm]
</p>

<p>***** Files
All files are comma separated with a one line header.
</p>

<p>  * detectorTemp.txt : in degrees Celsius. It is roughly sampled at 1 second.
  * distanceAndDoppler.txt : These are the corrections used to adjust for the changing
    distance and velocity of the spacecraft relative to the sun.
  * instrumentTelemetry.txt : Includes grating position and measured detector counts. It is sampled
    proportional to the current integration time. (keep in mind that this is measured counts which
    which could be dependent on other variables)
  * integrationTime.txt : This is the current set integration time (ms) of the instrument.
    Assume the value is constant until there is a new value.
  * plans.txt : This file includes the experiment names with start/end times. You can find the
    time ranges of the plans of interest her. [start, end)
  * referenceSpectrum.txt : This is a reference spectrum with accurate wavelengths. The current
    irradiance measurements will be within 15% of this spectrum.
</p>

<p> w = 182nm = 1.85E-7m
</p>

<p> Plan:
  Read in the intrumentTelementry for a given time range and return the graPos & counts
</p>

</div>
          

          

          
          <h3>Parameters</h3>
            <dl>
              
              <dt id="plans:p:plot_irr">plot_irr <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
            </dl>
          

          
          <h3>Keywords</h3>
            <dl>
              
              <dt id="plans:k:plot_counts">plot_counts <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="plans:k:plot_gratpos">plot_gratpos <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="plans:k:plot_waves">plot_waves <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="plans:k:op">op <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="plans:k:verbose">verbose <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="plans:k:plot_temps">plot_temps <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="plans:k:make_final">make_final <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="plans:k:plot_all">plot_all <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
            </dl>
          

          

          

          

          

        </div>
        

      </div>
      

      <div id="attributes">
        <h2>File attributes</h2>

        <table class="attribute small" summary="File attributes">
          <tr>
            <td class="name">Modification date:</td>
            <td>Tue Apr 24 11:44:22 2018</td>
          </tr>

          <tr>
            <td class="name">Lines:</td>
            <td>113</td>
          </tr>

          
          <tr>
            <td class="name">Docformat:</td>
            <td>rst rst</td>
          </tr>
          
        </table>
      </div>

      
    </div>

    <div class="footer">
    
      <table class="smaller" summary="footer">
        <tr>
          <td class="left">Produced by IDLdoc 3.6.1 on Tue Apr 24 12:31:15 2018</td>
          <td class="right"><a target="_top" href="http://github.com/mgalloy/idldoc">IDLdoc project information</a></td>
        </tr>
      </table>
    
    </div>
  </body>
</html>